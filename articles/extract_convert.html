<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="epiparameter">
<title>Parameter extraction and conversion in {epiparameter} • epiparameter</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parameter extraction and conversion in {epiparameter}">
<meta property="og:description" content="epiparameter">
<meta property="og:image" content="https://epiverse-trace.github.io/epiparameter/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="../logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">epiparameter</a>

    <small class="nav-text text-danger me-auto version-number" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/epiparameter.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Intro</h6>
    <a class="dropdown-item" href="../articles/extract_convert.html">Parameter extraction and conversion in {epiparameter}</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Epiparameter Data</h6>
    <a class="dropdown-item" href="../articles/data_protocol.html">Data Collation and Synthesis Protocol</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Auxiliary</h6>
    <a class="dropdown-item" href="../articles/extract-bias.html">{epiparameter} Extraction Bias Analysis</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Developer Documentation</h6>
    <a class="dropdown-item" href="../articles/design_principles.html">Design Principles for {epiparameter}</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/epiverse-trace/epiparameter/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Parameter extraction and conversion in {epiparameter}</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/epiparameter/blob/HEAD/vignettes/extract_convert.Rmd" class="external-link"><code>vignettes/extract_convert.Rmd</code></a></small>
      <div class="d-none name"><code>extract_convert.Rmd</code></div>
    </div>

    
    
<p>The reporting of parameters of distributions in the epidemiological literature
is varied. In some instances the parameters themselves will be given, in others,
summary statistics of the distribution are provided, such as mean, standard
deviation, variance, among others.</p>
<p>When working with epidemiological parameters it can be useful to have the values
of the parameters for common parameterisations of the distribution. For example,
shape and scale parameters for the gamma and Weibull distribution, and the meanlog
and sdlog parameters for the lognormal distribution.</p>
<p>In {epiparameter} we provide a range of conversion and extraction functions in
order to obtain distribution parameters from summary statistics and vice versa.</p>
<p>Here we differentiate between conversion and extraction as what can be analytically
converted, as conversions, and those that require optimisation as extraction.
This vignette aims to describe the functionality of these conversions and
extractions provided by the {epiparameter} package.</p>
<div class="section level3 alert alert-info">
<h3 id="conversion-versus-extraction">Conversion versus extraction<a class="anchor" aria-label="anchor" href="#conversion-versus-extraction"></a>
</h3>
<p>Use conversion when possible over extraction to avoid possible limitations associated with
numerical optimisation used in the extraction function <code><a href="../reference/extract_param.html">extract_param()</a></code>.</p>
</div>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiverse-trace/epiparameter" class="external-link">epiparameter</a></span><span class="op">)</span></span></code></pre></div>
</details><div class="section level2">
<h2 id="conversions">Conversions<a class="anchor" aria-label="anchor" href="#conversions"></a>
</h2>
<p>There are two conversion functions in {epiparameter}: <code><a href="../reference/convert_params_to_summary_stats.html">convert_params_to_summary_stats()</a></code> and <code><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params()</a></code>. <code><a href="../reference/convert_params_to_summary_stats.html">convert_params_to_summary_stats()</a></code> converts one set of statistical distribution parameters to common summary statistics, and <code><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params()</a></code> converts summary statistics to a set of parameters.</p>
<div class="section level3">
<h3 id="conversion-functions">Conversion functions<a class="anchor" aria-label="anchor" href="#conversion-functions"></a>
</h3>
<p>The conversion functions have two arguments. The first (<code>distribution</code>) defines which distribution you want to use and the second (<code>...</code>) lets you put as many named parameters or summary statistics as required. The arguments passed into <code>...</code> are matched by name, and therefore need to match exactly to the names expected. See the function documentation (<code><a href="../reference/convert_params_to_summary_stats.html">?convert_params_to_summary_stats</a></code> and <code><a href="../reference/convert_summary_stats_to_params.html">?convert_summary_stats_to_params</a></code> for names).</p>
<p>All currently supported summary statistic conversions in {epiparameter} are given below for each distribution.</p>
<div class="section level4">
<h4 id="gamma-distribution">Gamma distribution<a class="anchor" aria-label="anchor" href="#gamma-distribution"></a>
</h4>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_params_to_summary_stats.html">convert_params_to_summary_stats</a></span><span class="op">(</span></span>
<span>  distribution <span class="op">=</span> <span class="st">"gamma"</span>, shape <span class="op">=</span> <span class="fl">2.5</span>, scale <span class="op">=</span> <span class="fl">1.5</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; $mean</span></span>
<span><span class="co">#&gt; [1] 3.75</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $median</span></span>
<span><span class="co">#&gt; [1] 1.450487</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $mode</span></span>
<span><span class="co">#&gt; [1] 2.25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var</span></span>
<span><span class="co">#&gt; [1] 5.625</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sd</span></span>
<span><span class="co">#&gt; [1] 2.371708</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cv</span></span>
<span><span class="co">#&gt; [1] 0.6324555</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $skewness</span></span>
<span><span class="co">#&gt; [1] 1.264911</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ex_kurtosis</span></span>
<span><span class="co">#&gt; [1] 2.4</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"gamma"</span>, mean <span class="op">=</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $shape</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scale</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"gamma"</span>, mean <span class="op">=</span> <span class="fl">2</span>, var <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $shape</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scale</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"gamma"</span>, mean <span class="op">=</span> <span class="fl">2</span>, cv <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $shape</span></span>
<span><span class="co">#&gt; [1] 0.25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scale</span></span>
<span><span class="co">#&gt; [1] 8</span></span></code></pre></div>
</details>
</div>
<div class="section level4">
<h4 id="lognormal-distribution">Lognormal distribution<a class="anchor" aria-label="anchor" href="#lognormal-distribution"></a>
</h4>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_params_to_summary_stats.html">convert_params_to_summary_stats</a></span><span class="op">(</span></span>
<span>  distribution <span class="op">=</span> <span class="st">"lnorm"</span>, meanlog <span class="op">=</span> <span class="fl">2.5</span>, sdlog <span class="op">=</span> <span class="fl">1.5</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; $mean</span></span>
<span><span class="co">#&gt; [1] 37.52472</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $median</span></span>
<span><span class="co">#&gt; [1] 12.18249</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $mode</span></span>
<span><span class="co">#&gt; [1] 1.284025</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var</span></span>
<span><span class="co">#&gt; [1] 11951.62</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sd</span></span>
<span><span class="co">#&gt; [1] 109.3235</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cv</span></span>
<span><span class="co">#&gt; [1] 2.913372</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $skewness</span></span>
<span><span class="co">#&gt; [1] 33.46805</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ex_kurtosis</span></span>
<span><span class="co">#&gt; [1] 10075.25</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"lnorm"</span>, mean <span class="op">=</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $meanlog</span></span>
<span><span class="co">#&gt; [1] 0.3465736</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sdlog</span></span>
<span><span class="co">#&gt; [1] 0.8325546</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"lnorm"</span>, mean <span class="op">=</span> <span class="fl">2</span>, var <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $meanlog</span></span>
<span><span class="co">#&gt; [1] 0.4904146</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sdlog</span></span>
<span><span class="co">#&gt; [1] 0.6367614</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"lnorm"</span>, mean <span class="op">=</span> <span class="fl">2</span>, cv <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $meanlog</span></span>
<span><span class="co">#&gt; [1] -0.1115718</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sdlog</span></span>
<span><span class="co">#&gt; [1] 1.268636</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"lnorm"</span>, median <span class="op">=</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $meanlog</span></span>
<span><span class="co">#&gt; [1] 0.3465736</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sdlog</span></span>
<span><span class="co">#&gt; [1] 0.8325546</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"lnorm"</span>, median <span class="op">=</span> <span class="fl">2</span>, var <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $meanlog</span></span>
<span><span class="co">#&gt; [1] 0.4904146</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sdlog</span></span>
<span><span class="co">#&gt; [1] 0.6367614</span></span></code></pre></div>
</details>
</div>
<div class="section level4">
<h4 id="weibull-distribution">Weibull distribution<a class="anchor" aria-label="anchor" href="#weibull-distribution"></a>
</h4>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_params_to_summary_stats.html">convert_params_to_summary_stats</a></span><span class="op">(</span></span>
<span>  distribution <span class="op">=</span> <span class="st">"weibull"</span>, shape <span class="op">=</span> <span class="fl">2.5</span>, scale <span class="op">=</span> <span class="fl">1.5</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; $mean</span></span>
<span><span class="co">#&gt; [1] 1.330896</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $median</span></span>
<span><span class="co">#&gt; [1] 1.295452</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $mode</span></span>
<span><span class="co">#&gt; [1] 1.22279</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var</span></span>
<span><span class="co">#&gt; [1] 0.3243301</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sd</span></span>
<span><span class="co">#&gt; [1] 0.5694998</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cv</span></span>
<span><span class="co">#&gt; [1] 0.4279072</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $skewness</span></span>
<span><span class="co">#&gt; [1] 0.3586318</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ex_kurtosis</span></span>
<span><span class="co">#&gt; [1] 122.3898</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"weibull"</span>, mean <span class="op">=</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Numerical approximation used, results may be unreliable.</span></span>
<span><span class="co">#&gt; $shape</span></span>
<span><span class="co">#&gt; [1] 1.000016</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scale</span></span>
<span><span class="co">#&gt; [1] 2.000014</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"weibull"</span>, mean <span class="op">=</span> <span class="fl">2</span>, var <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Numerical approximation used, results may be unreliable.</span></span>
<span><span class="co">#&gt; $shape</span></span>
<span><span class="co">#&gt; [1] 1.435521</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scale</span></span>
<span><span class="co">#&gt; [1] 2.202641</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"weibull"</span>, mean <span class="op">=</span> <span class="fl">2</span>, cv <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Numerical approximation used, results may be unreliable.</span></span>
<span><span class="co">#&gt; $shape</span></span>
<span><span class="co">#&gt; [1] 0.5427068</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scale</span></span>
<span><span class="co">#&gt; [1] 1.150547</span></span></code></pre></div>
</details>
</div>
<div class="section level4">
<h4 id="negative-binomial-distribution">Negative binomial distribution<a class="anchor" aria-label="anchor" href="#negative-binomial-distribution"></a>
</h4>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_params_to_summary_stats.html">convert_params_to_summary_stats</a></span><span class="op">(</span></span>
<span>  distribution <span class="op">=</span> <span class="st">"nbinom"</span>, prob <span class="op">=</span> <span class="fl">0.5</span>, dispersion <span class="op">=</span> <span class="fl">0.5</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; $mean</span></span>
<span><span class="co">#&gt; [1] 0.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $median</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $mode</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sd</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cv</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $skewness</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ex_kurtosis</span></span>
<span><span class="co">#&gt; [1] 12.25</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"nbinom"</span>, mean <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; $prob</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dispersion</span></span>
<span><span class="co">#&gt; [1] Inf</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"nbinom"</span>, mean <span class="op">=</span> <span class="fl">1</span>, var <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; $prob</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dispersion</span></span>
<span><span class="co">#&gt; [1] Inf</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"nbinom"</span>, mean <span class="op">=</span> <span class="fl">1</span>, cv <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; $prob</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dispersion</span></span>
<span><span class="co">#&gt; [1] Inf</span></span></code></pre></div>
</details>
</div>
<div class="section level4">
<h4 id="geometric-distribution">Geometric distribution<a class="anchor" aria-label="anchor" href="#geometric-distribution"></a>
</h4>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_params_to_summary_stats.html">convert_params_to_summary_stats</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"geom"</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="co">#&gt; $mean</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $median</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $mode</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sd</span></span>
<span><span class="co">#&gt; [1] 1.414214</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cv</span></span>
<span><span class="co">#&gt; [1] 1.414214</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $skewness</span></span>
<span><span class="co">#&gt; [1] 2.12132</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ex_kurtosis</span></span>
<span><span class="co">#&gt; [1] 6.5</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"geom"</span>, mean <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; $prob</span></span>
<span><span class="co">#&gt; [1] 0.5</span></span></code></pre></div>
</details>
</div>
</div>
</div>
<div class="section level2">
<h2 id="extraction">Extraction<a class="anchor" aria-label="anchor" href="#extraction"></a>
</h2>
<p>There are two methods of extraction implemented in {epiparameter}. One is to estimate
the parameters given the values of two percentiles, and the other is to estimate the parameters given the
median and the range of the data. Both of these extractions are implemented in the <code><a href="../reference/extract_param.html">extract_param()</a></code> function.</p>
<p>Here we demonstrate extraction using percentiles. The <code>type</code> should be <code>"percentiles"</code>, the <code>values</code> are the values reported at the percentiles, given as a vector. The percentiles, given between 0 and 1, are specified as a vector in <code>percentiles</code>. The example below uses values 1 and 10 at the 2.5th and 97.5th percentile, respectively.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_param.html">extract_param</a></span><span class="op">(</span></span>
<span>  type <span class="op">=</span> <span class="st">"percentiles"</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  distribution <span class="op">=</span> <span class="st">"gamma"</span>,</span>
<span>  percentiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.025</span>, <span class="fl">0.975</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Stochastic numerical optimisation used. </span></span>
<span><span class="co">#&gt; Rerun function multiple times to check global optimum is found</span></span>
<span><span class="co">#&gt;    shape    scale </span></span>
<span><span class="co">#&gt; 3.358207 1.284185</span></span></code></pre></div>
</details><p>In the above example we estimate parameters of the gamma distribution, but extraction is also implemented for the lognormal, normal and Weibull distributions, but specifying <code>"lnorm"</code>, <code>"norm"</code> or <code>"weibull"</code>.</p>
<p>A message is shown when running <code><a href="../reference/extract_param.html">extract_param()</a></code> to make the user aware that the estimates are not completely reliable due to the use of numerical optimisation. Rerunning the function to and finding the same parameters are returned indicates that they have successfully converged. This issue is mostly overcome by the internal setup of the <code><a href="../reference/extract_param.html">extract_param()</a></code> function which searches for convergence to consistent parameter estimates before returning these to the user.</p>
<p>The alternative extraction, by median and range, can be achieved by specifying <code>type = "range"</code> and using the <code>samples</code> argument instead of the <code>percentiles</code> argument. When using <code>type = "percentiles"</code> the <code>samples</code> argument is ignored and when using <code>type = "range"</code> the <code>percentiles</code> argument is ignored.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_param.html">extract_param</a></span><span class="op">(</span></span>
<span>  type <span class="op">=</span> <span class="st">"range"</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">15</span><span class="op">)</span>,</span>
<span>  distribution <span class="op">=</span> <span class="st">"lnorm"</span>,</span>
<span>  samples <span class="op">=</span> <span class="fl">25</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Stochastic numerical optimisation used. </span></span>
<span><span class="co">#&gt; Rerun function multiple times to check global optimum is found</span></span>
<span><span class="co">#&gt;  meanlog    sdlog </span></span>
<span><span class="co">#&gt; 2.302585 4.896140</span></span></code></pre></div>
</details><p>In the above section it was mentioned that <code><a href="../reference/extract_param.html">extract_param()</a></code> has an internal mechanism to check that the parameters have consistently converged to the same estimates over several optimisation iterations. The tolerance of this convergence and number of times the optimisation can be repeated is specified in the <code>control</code> argument of <code><a href="../reference/extract_param.html">extract_param()</a></code>. This is set by default (<code>tolerance = 1e-5</code> and <code>max_iter = 1000</code>), and thus does not need to be specified by the user (as shown in the above examples). In the case that the maximum number of optimisation iterations is reached, the calculation terminates returning the most recent optimisation result to the user along with a warning message.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set seed to ensure warning is produced</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># lower maximum iteration to show warning</span></span>
<span><span class="fu"><a href="../reference/extract_param.html">extract_param</a></span><span class="op">(</span></span>
<span>  type <span class="op">=</span> <span class="st">"range"</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1</span>, <span class="fl">25</span><span class="op">)</span>,</span>
<span>  distribution <span class="op">=</span> <span class="st">"lnorm"</span>,</span>
<span>  samples <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>max_iter <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Maximum optimisation iterations reached, returning result early. </span></span>
<span><span class="co">#&gt; Result may not be reliable.</span></span>
<span><span class="co">#&gt; Stochastic numerical optimisation used. </span></span>
<span><span class="co">#&gt; Rerun function multiple times to check global optimum is found</span></span>
<span><span class="co">#&gt;   meanlog     sdlog </span></span>
<span><span class="co">#&gt; 2.3025851 0.7942061</span></span></code></pre></div>
</details><p>The reasoning for the default maximum number of iterations is to limit the computation time and prevent the function cycling through optimisation routines without converging on a consistent answer. If the runtime is not important and parameter accuracy is paramount then the maximum number of iterations can be increased and tolerance decreased. These <code>control</code> settings work identically for extracting from percentiles or median and range.</p>
<div class="section level3">
<h3 id="use-cases">Use cases<a class="anchor" aria-label="anchor" href="#use-cases"></a>
</h3>
<p>Here we present examples of published epidemiological parameters and distributions where the functions outlined above can be applied to get the parameters of the distribution.</p>
<p>The 75th percentiles reported for a lognormal distribution from <span class="citation">Nolen et al. (<a href="#ref-nolenExtendedHumantoHumanTransmission2016" role="doc-biblioref">2016</a>)</span> for the incubation period for mpox (monkeypox).</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mpox lnorm from 75th percentiles in WHO data</span></span>
<span><span class="fu"><a href="../reference/extract_param.html">extract_param</a></span><span class="op">(</span></span>
<span>  type <span class="op">=</span> <span class="st">"percentiles"</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">13</span><span class="op">)</span>,</span>
<span>  distribution <span class="op">=</span> <span class="st">"lnorm"</span>,</span>
<span>  percentiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.125</span>, <span class="fl">0.875</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Stochastic numerical optimisation used. </span></span>
<span><span class="co">#&gt; Rerun function multiple times to check global optimum is found</span></span>
<span><span class="co">#&gt;   meanlog     sdlog </span></span>
<span><span class="co">#&gt; 2.1783544 0.3360684</span></span></code></pre></div>
</details><p>The median and range are provided by <span class="citation">Thornhill et al. (<a href="#ref-thornhillMonkeypoxVirusInfection2022" role="doc-biblioref">2022</a>)</span> for mpox, and we want to calculate the parameters of a lognormal distribution.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mpox lnorm from median and range in 2022:</span></span>
<span><span class="fu"><a href="../reference/extract_param.html">extract_param</a></span><span class="op">(</span></span>
<span>  type <span class="op">=</span> <span class="st">"range"</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">3</span>, <span class="fl">20</span><span class="op">)</span>,</span>
<span>  distribution <span class="op">=</span> <span class="st">"lnorm"</span>,</span>
<span>  samples <span class="op">=</span> <span class="fl">23</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Stochastic numerical optimisation used. </span></span>
<span><span class="co">#&gt; Rerun function multiple times to check global optimum is found</span></span>
<span><span class="co">#&gt;  meanlog    sdlog </span></span>
<span><span class="co">#&gt; 1.945910 4.735285</span></span></code></pre></div>
</details>
</div>
<div class="section level3 alert alert-warning">
<h3 id="assuming-distributions">Assuming distributions<a class="anchor" aria-label="anchor" href="#assuming-distributions"></a>
</h3>
<p>It can be the case that a study will report summary statistics for an unspecified distribution or just for the raw data. In these cases if a parameterised distribution is required for downstream analysis a functional, parametric, form may have to be assumed.</p>
<p>If the distribution is a delay distribution (i.e. serial interval or incubation period) it can often be sensible to assume a right-skewed distribution such as: gamma, lognormal or Weibull distributions. These are also the most commonly fit distributions in epidemiological analysis of delay distributions.</p>
<p>However, one should take care when assuming a distribution as this may drastically influence the interpretation and application of the epidemiological parameters.</p>
</div>
<p><span class="citation">Donnelly et al. (<a href="#ref-donnellyEpidemiologicalDeterminantsSpread2003" role="doc-biblioref">2003</a>)</span> provides the mean and variance of the gamma distribution for the incubation period of SARS. This conversion can be achieved by using the general conversion function (<code><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params()</a></code>).</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># SARS gamma mean and var to shape and scale</span></span>
<span><span class="fu"><a href="../reference/convert_summary_stats_to_params.html">convert_summary_stats_to_params</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"gamma"</span>, mean <span class="op">=</span> <span class="fl">6.37</span>, var <span class="op">=</span> <span class="fl">16.7</span><span class="op">)</span></span>
<span><span class="co">#&gt; $shape</span></span>
<span><span class="co">#&gt; [1] 2.429754</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $scale</span></span>
<span><span class="co">#&gt; [1] 2.621664</span></span></code></pre></div>
</details>
</div>
<div class="section level2 unnumbered">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-donnellyEpidemiologicalDeterminantsSpread2003" class="csl-entry">
Donnelly, Christl A, Azra C Ghani, Gabriel M Leung, Anthony J Hedley, Christophe Fraser, Steven Riley, Laith J Abu-Raddad, et al. 2003. <span>“Epidemiological Determinants of Spread of Causal Agent of Severe Acute Respiratory Syndrome in Hong Kong.”</span> <em>The Lancet</em> 361 (9371): 1761–66. <a href="https://doi.org/10.1016/S0140-6736(03)13410-1" class="external-link">https://doi.org/10.1016/S0140-6736(03)13410-1</a>.
</div>
<div id="ref-nolenExtendedHumantoHumanTransmission2016" class="csl-entry">
Nolen, Leisha Diane, Lynda Osadebe, Jacques Katomba, Jacques Likofata, Daniel Mukadi, Benjamin Monroe, Jeffrey Doty, et al. 2016. <span>“Extended Human-to-Human Transmission During a Monkeypox Outbreak in the Democratic Republic of the Congo.”</span> <em>Emerging Infectious Diseases</em> 22 (6): 1014–21. <a href="https://doi.org/10.3201/eid2206.150579" class="external-link">https://doi.org/10.3201/eid2206.150579</a>.
</div>
<div id="ref-thornhillMonkeypoxVirusInfection2022" class="csl-entry">
Thornhill, John P., Sapha Barkati, Sharon Walmsley, Juergen Rockstroh, Andrea Antinori, Luke B. Harrison, Romain Palich, et al. 2022. <span>“Monkeypox Virus Infection in Humans Across 16 Countries — April–June 2022.”</span> <em>New England Journal of Medicine</em> 387 (8): 679–91. <a href="https://doi.org/10.1056/NEJMoa2207323" class="external-link">https://doi.org/10.1056/NEJMoa2207323</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joshua W. Lambert, Adam Kucharski.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
